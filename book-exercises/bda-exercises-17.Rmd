---
title: "Chapter 17 Exercises"
date: "2021-12-10"
output: distill::distill_article
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, comment = "#>", dpi = 300)

rfiles <- list.files(here::here("src"), full.names = TRUE, pattern = "R$")
for (rfile in rfiles) {
  source(rfile)
}
```

> Reproduce the serial dilution example from chapter 17.

## Setup

```{r setup-show, message=FALSE, warning=FALSE}
library(rstan)
library(tidybayes)
library(tidyverse)
```

Data copied from the book Figure 19.3 on page 473.

```{r}
dilution_standards_data <- tibble::tribble(
  ~conc, ~dilution, ~y,
  0.64, 1, c(101.8, 121.4),
  0.32, 1 / 2, c(105.2, 114.1),
  0.16, 1 / 4, c(92.7, 93.3),
  0.08, 1 / 8, c(72.4, 61.1),
  0.04, 1 / 16, c(57.6, 50.0),
  0.02, 1 / 32, c(38.5, 35.1),
  0.01, 1 / 64, c(26.6, 25.0),
  0, 0, c(14.7, 14.2),
) %>% unnest(y)
head(dilution_standards_data)
```

```{r}
dilution_standards_data %>%
  ggplot(aes(x = dilution, y = y)) +
  geom_point()
```
